
import pynetbox
import logging

# Enable debugging
logging.basicConfig(level=logging.DEBUG)

# Connect to NetBox
netbox_url = "http://your-netbox-instance-url"  # Replace with your NetBox URL
netbox_token = "your-netbox-api-token"  # Replace with your NetBox API token
nb = pynetbox.api(netbox_url, token=netbox_token)

# Test connection
try:
    print("NetBox status:", nb.status())
except Exception as e:
    print(f"Error connecting to NetBox: {e}")
    exit()

# Check available endpoints
print("Available API endpoints:")
for endpoint in dir(nb):
    print(endpoint)

# Test a specific endpoint
try:
    devices = nb.dcim.devices.all()
    print("Fetched devices:", devices)
except Exception as e:
    print(f"Error fetching devices: {e}")
